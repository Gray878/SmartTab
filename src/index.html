<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="extName">__MSG_extName__</title>
  <link href="output.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
  <link rel="icon" type="image/png" href="../images/favicon.png">
  <style id="dynamic-background"></style>
  <script src="localization.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="preload" href="../images/dida365-logo.svg" as="image">
</head>
<body class="h-screen flex flex-col">
  <div id="sidebar-container" class="flex collapsed">
    <aside class="custom-width p-4 overflow-auto border-r border-gray-200 relative">
      <div id="sidebar-logo" class="mb-4">
        <img src="../images/logo.svg" alt="Logo" id="logo-image">
        <h1 id="logo-title">TabMark</h1>
      </div>
      <ul id="categories-list" class="space-y-2"></ul>
    </aside>
    <main class="flex-1 bg-gray-50 p-8 overflow-auto flex flex-col">
      <div class="welcome-search-container">
        <div id="welcome-message" data-i18n="welcomeMessage"></div>
      </div>
      <div class="flex justify-between items-center mb-4">
        <div class="search-container">
          <form class="search-form" id="search-form">
            <div style="position: relative;height: auto;">
              <div class="search-icon-container">
                <img id="search-engine-icon" src="../images/placeholder-icon.svg" alt="search-engine-icon"
                  class="search-engine-icon">
              </div>
              <textarea class="search-input" data-i18n-placeholder="searchPlaceholder" rows="1" style="width: 100%; resize: none; padding-left: 40px;"></textarea>
            </div>
            <div class="search-suggestions-wrapper">
              <div class="line-container" id="line-container">
                <hr class="custom-hr">
              </div>
              <ul id="search-suggestions" class="search-suggestions"></ul>
              <div id="tabs-container" class="tabs">
                <div class="tab" data-engine="bing">
                  <img src="../images/bing-logo.png" alt="Bing" class="tab-icon"> Bing
                </div>
                <div class="tab active" data-engine="google">
                  <img src="../images/google-logo.svg" alt="Google" class="tab-icon"> Google
                </div>
                <div class="tab" data-engine="doubao">
                  <img src="../images/doubao-logo.png" alt="Doubao" class="tab-icon"> <span data-i18n="doubaoTab">豆包</span>
                </div>
                <div class="tab" data-engine="kimi">
                  <img src="../images/kimi-logo.svg" alt="Kimi" class="tab-icon"> Kimi
                </div>
                <div class="tab" data-engine="metaso">
                  <img src="../images/metaso-logo.png" alt="metaso" class="tab-icon"> <span data-i18n="metasoTab">秘塔</span>
                </div>
                <div class="tab" data-engine="felo">
                  <img src="../images/felo-logo.svg" alt="Felo Search" class="tab-icon"> Felo
                </div>
                <div class="tab" data-engine="chatgpt">
                  <img src="../images/chatgpt-logo.svg" alt="ChatGPT" class="tab-icon"> ChatGPT
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!-- Edit Bookmark Dialog -->
      <div id="edit-dialog" class="modal">
        <div class="modal-content">
          <span class="close-button">&times;</span>
          <h2 data-i18n="editDialogTitle"></h2>
          <form id="edit-form">
            <label for="edit-name" data-i18n="editNameLabel"></label>
            <input type="text" id="edit-name" name="name" required>
            <label for="edit-url" data-i18n="editUrlLabel"></label>
            <input type="url" id="edit-url" name="url" required>
            <div class="form-buttons">
              <button type="button" class="cancel-button" data-i18n="cancelButton"></button>
              <button type="submit" data-i18n="saveButton"></button>
            </div>
          </form>
        </div>
      </div>
      <!-- Edit Category Dialog -->
      <div id="edit-category-dialog" class="modal">
        <div class="modal-content">
          <span class="close-category-button">&times;</span>
          <h2 data-i18n="renameFolderTitle"></h2>
          <form id="edit-category-form">
            <label for="edit-category-name" data-i18n="nameLabel">名称</label>
            <input type="text" id="edit-category-name" name="name" required>
            <div class="form-buttons">
              <button type="button" class="cancel-category-button" data-i18n="cancelButton">取消</button>
              <button type="submit" data-i18n="saveButton">保存</button>
            </div>
          </form>
        </div>
      </div>
      <footer class="bg-gray-50 text-center p-4 border-t border-gray-200 mt-4">
      </footer>
      <!-- 待办事项区域 -->
      <div class="todo-section">
        <!-- 滴答清单登录表单 -->
        <div id="dida365-login" class="dida365-login">
          <h3>连接滴答清单</h3>
          <p class="login-desc">使用滴答清单账号登录，同步你的待办事项</p>
          <button id="connect-dida365" class="connect-button">
            <img src="../images/dida365-logo.svg" alt="滴答清单" class="dida-logo">
            连接滴答清单
          </button>
          <div class="login-links">
            <a href="https://www.dida365.com/signup" target="_blank">还没有账号？立即注册</a>
          </div>
        </div>

        <!-- 项目和任务区域 -->
        <div class="todo-content">
          <!-- 项目列表 -->
          <div class="project-section">
            <div class="project-header">
              <h3>项目列表</h3>
              <div class="project-actions">
                <button id="refresh-projects" class="icon-button" title="刷新项目列表">
                  <span class="material-icons">refresh</span>
                </button>
              </div>
            </div>
            <div id="project-list" class="project-list">
              <!-- 项目将通过JavaScript动态添加 -->
            </div>
          </div>

          <!-- 任务列表 -->
          <div class="tasks-section">
            <div class="todo-header">
              <div class="todo-header-left">
                <h2 id="current-project-name">选择项目</h2>
                <span class="todo-stats"></span>
              </div>
              <div class="todo-header-right">
                <div class="sync-status">
                  <span class="material-icons">sync</span>
                  <span class="sync-text">已同步</span>
                </div>
                <div class="todo-filters">
                  <input type="text" id="todo-search" placeholder="搜索任务..." class="todo-search">
                  <select id="todo-filter" class="todo-filter">
                    <option value="all">全部</option>
                    <option value="active">进行中</option>
                    <option value="completed">已完成</option>
                  </select>
                </div>
                <button id="add-todo" class="add-todo-btn" disabled>
                  <span class="material-icons">add</span>
                </button>
              </div>
            </div>

            <!-- 添加空状态提示 -->
            <div id="todo-empty" class="todo-empty">
              <span class="material-icons">assignment</span>
              <p>请选择一个项目</p>
            </div>

            <!-- 任务列表容器 -->
            <div id="todo-list" class="todo-list">
              <!-- 任务将通过JavaScript动态添加 -->
            </div>

            <!-- 任务表单 -->
            <div id="todo-form" class="todo-form hidden">
              <input type="text" id="todo-title" placeholder="任务名称" required>
              <input type="datetime-local" id="todo-due-date">
              <select id="todo-priority">
                <option value="low">低优先级</option>
                <option value="medium">中优先级</option>
                <option value="high">高优先级</option>
              </select>
              <select id="todo-repeat">
                <option value="none">不重复</option>
                <option value="daily">每天</option>
                <option value="weekly">每周</option>
                <option value="monthly">每月</option>
              </select>
              <input type="text" id="todo-tags" placeholder="标签(用逗号分隔)">
              <div class="todo-form-buttons">
                <button type="button" id="save-todo">保存</button>
                <button type="button" id="cancel-todo">取消</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="bookmarks-container">
        <div id="folder-name" class="folder-name">
        </div>
        <div class="flex flex-wrap gap-4 justify-center flex-grow" id="bookmarks-list">
          <!-- 添加占位符 -->
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>
          <div class="bookmark-placeholder"></div>

          <!-- 可以根据需要添加更多占位符 -->
        </div>
      </div>
    </main>
  </div>
  <div id="more-button-toast" class="toast">
    <p data-i18n="moreSearchSupportToast">更多搜索支持正在开发中...</p>
  </div>
  <script src="localization.js"></script>
  <script src="Sortable.min.js"></script>
  <script type="module" src="script.js"></script>
  <script type="module" src="welcome.js"></script>
  <script src="background.js"></script>
  <script src="qrcode.min.js"></script>
  <script type="module" src="todo.js"></script>
<!-- <div class="links-icons">
  <a href="#history" id="history-link" data-i18n-title="historyLinkTitle">
    <span class="material-icons">history</span>
  </a>
  <a href="#downloads" id="downloads-link" data-i18n-title="downloadsLinkTitle">
    <span class="material-icons">download</span>
  </a>
  <a href="#passwords" id="passwords-link" data-i18n-title="passwordsLinkTitle">
    <span class="material-icons">vpn_key</span>
  </a>
  <a href="#extensions" id="extensions-link" data-i18n-title="extensionsLinkTitle">
    <span class="material-icons">extension</span>
  </a>
</div> -->
<div class="settings-icon">
  <a href="#settings" id="settings-link" data-i18n-title="settingsLinkTitle">
    <span class="material-icons">settings</span>
  </a>
</div>
<!-- 在 body 标签结束前添加 -->
<div id="settings-modal" class="settings-modal">
  <div class="settings-modal-content">
    <span class="settings-modal-close">&times;</span>
    <h2 class="settings-modal-title" data-i18n="settingsTitle">设置</h2>
    <div class="settings-layout">
      <div class="settings-sidebar">
        <button class="settings-tab-button active" data-tab="appearance" data-i18n="appearanceTab">外观</button>
      </div>
      <div class="settings-content">
        <div id="appearance-settings" class="settings-tab-content active">
          <h3 class="settings-modal-subtitle" data-i18n="backgroundColorTitle">背景颜色</h3>
          <div class="settings-background-options">
            <div class="settings-bg-option gradient-background-1" data-bg="gradient-background-1"></div>
            <div class="settings-bg-option gradient-background-2" data-bg="gradient-background-2"></div>
            <div class="settings-bg-option gradient-background-3" data-bg="gradient-background-3"></div>
            <div class="settings-bg-option gradient-background-4" data-bg="gradient-background-4"></div>
            <div class="settings-bg-option gradient-background-5" data-bg="gradient-background-5"></div>
            <div class="settings-bg-option gradient-background-6" data-bg="gradient-background-6"></div>
            <div class="settings-bg-option gradient-background-7" data-bg="gradient-background-7"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <button id="toggle-sidebar" class="bg-gray-300 p-1 rounded-r-md">
    &gt;
  </button>
  <div id="confirm-dialog" class="modal">
    <div class="modal-content">
      <h2 id="confirm-dialog-title" data-i18n="confirmDeleteTitle">确认删除</h2>
      <p id="confirm-dialog-message"></p>
      <p id="confirm-delete-quick-link-message"></p> <!-- 新增的元素 -->
      <div class="buttons">
        <button id="cancel-delete-button" class="cancel-button" data-i18n="cancelButton">取消</button>
        <button id="confirm-delete-button" class="delete-button" data-i18n="confirmDeleteButton">删除</button>
      </div>
    </div>
  </div>
  <div id="toast" class="toast" style="display: none;"></div>
</body>
</html>