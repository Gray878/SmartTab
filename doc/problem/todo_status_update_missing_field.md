# 任务状态更新缺少字段问题

## 问题描述
在更新任务状态时，发现任务无法正确切换状态。通过检查请求体发现，在调用更新任务接口时，缺少了关键的 `status` 字段，导致状态更新失败。

## 问题原因
1. 在 `dida365Service.js` 的 `updateTask` 方法中，请求体的 JSON 数据没有包含 `status` 字段
2. 虽然在 `todo.js` 中正确设置了任务状态，但由于服务层的遗漏，该字段未被发送到服务器

## 解决方案
1. 修改 `dida365Service.js` 中的 `updateTask` 方法，在请求体中添加 `status` 字段：
```javascript
body: JSON.stringify({
  // ... 其他字段 ...
  status: task.status || 0,  // 添加 status 字段
  // ... 其他字段 ...
})
```

2. 使用 `task.status || 0` 作为默认值，确保即使状态值为空也会有一个合法的默认值

## 验证方法
1. 在已完成任务列表中点击任务的复选框
2. 观察任务是否正确切换到进行中状态
3. 检查网络请求中的请求体是否包含 `status` 字段
4. 确认任务在界面上正确移动到对应的列表中

## 预防措施
1. 在开发新功能时，仔细对照 API 文档检查所有必要字段
2. 添加请求体数据的日志记录，方便调试
3. 考虑添加请求体数据的验证机制
4. 在测试阶段关注网络请求的完整性

## 相关文件
- src/services/dida365Service.js
- src/todo.js

## API 参考
根据滴答清单 API 文档，更新任务时的必要字段包括：
- id: 任务ID
- projectId: 项目ID
- title: 任务标题
- status: 任务状态（0: 进行中, 2: 已完成） 